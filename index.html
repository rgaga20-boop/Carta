<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Carta de Perd√≥n</title>
<style>
    body {
        background: #f5e9ff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        font-family: "Segoe UI", sans-serif;
    }

    .sobre {
        position: relative;
        width: 300px;
        height: 200px;
        background: #d18df0;
        border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        cursor: pointer;
        transition: transform .3s ease;
    }

    .sobre:hover {
        transform: scale(1.05);
    }

    .tapa {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 50%;
        background: #c774eb;
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        transform-origin: top;
        transition: transform 1s ease;
    }

    .carta {
        position: absolute;
        top: 40px;
        left: 15px;
        width: 270px;
        height: 160px;
        background: white;
        border-radius: 5px;
        padding: 20px;
        box-sizing: border-box;
        text-align: center;
        transform: translateY(100%);
        transition: transform 1s ease;
        font-size: 18px;
        line-height: 1.5;
        opacity: 0;
    }

    .sobre.abierto .tapa {
        transform: rotateX(180deg);
    }

    .sobre.abierto .carta {
        transform: translateY(0);
        opacity: 1;
    }

    /* --- CORAZ√ìN --- */
    .corazon {
        position: absolute;
        top: 110px; 
        left: 50%;
        transform: translateX(-50%) scale(0);
        font-size: 40px;
        color: red;
        opacity: 0;
        transition: opacity .5s;
    }

    .corazon.animar {
        animation: subir 2.5s ease forwards;
    }

    @keyframes subir {
        0% {
            transform: translateX(-50%) translateY(0) scale(0.3);
            opacity: 0;
        }
        40% {
            transform: translateX(-50%) translateY(-30px) scale(1);
            opacity: 1;
        }
        100% {
            transform: translateX(-50%) translateY(-120px) scale(1.4);
            opacity: 0;
        }
    }

    /* --- POEMA --- */
    .poema {
        margin-top: 40px;
        text-align: center;
        font-size: 20px;
        max-width: 400px;
        color: #5a3971;
        animation: aparecer 2s ease forwards;
        opacity: 0;
    }

    @keyframes aparecer {
        to { opacity: 1; }
    }
</style>
</head>
<body>

<div class="contenedor">
    <div class="sobre" onclick="abrir()">
        <div class="tapa"></div>

        <!-- Coraz√≥n oculto hasta que se abre -->
        <div class="corazon" id="corazon">‚ù§Ô∏è</div>

        <div class="carta">
            <h2 style="margin:0; color:#a34fd8;">Perd√≥n</h2>
            <p style="font-size:14px; color:#444;">(Haz clic para abrir)</p>
        </div>
    </div>

    <div class="poema" id="poema" style="display:none;">
        <p>
            Perd√≥n si mis palabras <br>
            alguna vez se volvieron espinas, <br>
            si mis silencios fueron fr√≠o <br>
            y mis errores te hicieron distancia. <br><br>

            Hoy abro mi coraz√≥n como esta carta, <br>
            sin miedo, sin orgullo, sin excusas. <br>
            Solo un sentimiento sincero: <br>
            que me importas‚Ä¶ y que lo siento. üíú
        </p>
    </div>
</div>

<script>
function abrir() {
    const sobre = document.querySelector('.sobre');
    const poema = document.getElementById('poema');
    const corazon = document.getElementById('corazon');

    sobre.classList.toggle('abierto');

    if (sobre.classList.contains('abierto')) {
        setTimeout(() => {
            poema.style.display = "block";
            corazon.classList.add("animar");
        }, 600);

        setTimeout(() => {
            corazon.classList.remove("animar");
        }, 3000);

    } else {
        poema.style.display = "none";
    }
}
</script>

</body>
</html>
